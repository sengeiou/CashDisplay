 /***************************************************************************************************
  * MainActivity.java (put next method instead of existed)
 ***************************************************************************************************/

   BroadcastReceiver changeSettings = new BroadcastReceiver() {
          **********
                  if (testMode) {
                      cmdParser = new CommandParser(viewModel, messageHandler, MainActivity.this);
                      cmdParser.doBufferData(new byte[0], 0);
                  }
          **********
      };


/***************************************************************************************************
 * CommandParser.java (put next method instead of existed, change code and make tests)
***************************************************************************************************/

    public void doBufferData(byte[] buf, int lenBuf) {

        FormatCommand formatCommand = new FormatCommand();
        String[] q = new String[20];

        /********************************
         *    BASKET (common products)
         *********************************/

//        q[0] = "\u0001ADDL0\u00031348\u00031\u00035461\u00031071\u00035849\u0003Apelsini zabotlivo viraschennie v Italii\u000309DD\u0002";
//        q[1] = "\u0001ADDL1\u00031349\u00031\u00032410\u00037458\u000317800\u0003bananas\u0003397F\u0002";
//        q[2] = "\u0001ADDL2\u00031350\u00031\u00031579\u0003512\u0003758\u0003Burachok borschevoy\u0003A063\u0002";
//        q[3] = "\u0001ADDL0\u00030\u00030\u0003-1\u00031000\u000310000\u0003Product\u00033E3B\u0002";


        /********************************
         *             METRO
         *********************************/

//        q[0] = "\u0001ADDL0\u00030\u00030\u000350\u00030\u000399900\u0003ПРОЇЗНИЙ НА ВЕРЕСЕНЬ (124 ПОЇЗДКА)\u0003B926\u0002";
//        q[1] = "\u0001PRLScard_purchase\u0003000000002647\u00031\u0003FCA7\u0002";

//        q[0] = "\u0001ADDL0\u00030\u00030\u00031000\u00030\u000399900\u0003ПРОЇЗНИЙ НА БЕРЕЗЕНЬ (124 ПОЇЗДКА)\u0003B926\u0002";
//        q[1] = "\u0001ADDL1\u00030\u00030\u00035\u00030\u0003130000\u0003ПРОЇЗНИЙ НА ДРУГУ ПОЛОВИНУ МIСЯЦЯ\u0003D6BD\u0002";
//        q[2] = "\u0001ADDL2\u00030\u00030\u0003-1\u00030\u0003230000\u0003ПРОЇЗНИЙ НА  ЛИСТОПАД(124 ПОЇЗДКА)\u0003D6BD\u0002";
//        q[3] = "\u0001ADDL3\u00030\u00030\u0003997\u00030\u0003930000\u0003ПРОЇЗНИЙ НА ЛИСТОПАД (124 ПОЇЗДКА)\u0003D6BD\u0002";
//        q[4] = "\u0001PRLScard_balance\u0003000000002650\u00034\u0003847B\u0002";

//        q[0] = "\u0001ADDL0\u00030\u00030\u00031000\u00030\u000399900\u0003ПРОЇЗНИЙ НА ЖОВТЕНЬ (124 ПОЇЗДКА)\u0003B926\u0002";
//        q[1] = "\u0001ADDL1\u00030\u00030\u00035\u00030\u0003930000\u0003ПРОЇЗНИЙ НА ДРУГУ ПОЛОВИНУ МIСЯЦЯ\u0003D6BD\u0002";
//        q[2] = "\u0001ADDL2\u00030\u00030\u0003-1\u00030\u0003230000\u0003ПРОЇЗНИЙ НА  ЛИСТОПАД(124 ПОЇЗДКА)\u0003D6BD\u0002";
//        q[3] = "\u0001ADDL3\u00030\u00030\u0003997\u00030\u0003930000\u0003ПРОЇЗНИЙ НА ЛИСТОПАД (124 ПОЇЗДКА)\u0003D6BD\u0002";
//        q[4] = "\u0001PRLScard_charging\u0003000000002650\u00034\u00037A05\u0002";

//        q[0] = "\u0001ADDL0\u00030\u00030\u00031000\u00030\u000399900\u0003QR-квитки\u0003D4D3\u0002";
//        q[1] = "\u0001ADDL1\u00030\u00030\u00035\u00030\u0003190000\u0003QR-квитки\u0003D6BD\u0002";
//        q[2] = "\u0001ADDL2\u00030\u00030\u0003-1\u00030\u0003290000\u0003QR-квитки\u0003D6BD\u0002";
//        q[3] = "\u0001ADDL3\u00030\u00030\u0003997\u00030\u0003999900\u0003QR-квитки\u0003D6BD\u0002";
//        q[1] = "\u0001PRLSqr_ticket\u00030\u00031\u0003B181\u0002";

        q[0] = "\u0001ADDL0\u00030\u00030\u0003900\u0003800\u000399900\u0003ПРОЇЗНИЙ НА БЕРЕЗЕНЬ (124 ПОЇЗДКА)\u0003D4D3\u0002";
        q[1] = "\u0001ADDL1\u00030\u00030\u00035\u000390000\u0003190000\u0003ПРОЇЗНИЙ НА ДРУГУ ПОЛОВИНУ МIСЯЦЯ\u0003D6BD\u0002";
        q[2] = "\u0001ADDL2\u00030\u00030\u0003-1\u00030\u0003290000\u0003ПРОЇЗНИЙ НА  ЛИСТОПАД(124 ПОЇЗДКА)\u0003D6BD\u0002";
        q[3] = "\u0001ADDL3\u00030\u00030\u0003997\u00030\u0003990000\u0003ПРОЇЗНИЙ НА ЛИСТОПАД (124 ПОЇЗДКА)\u0003D6BD\u0002";
        q[4] = "\u0001PRLSother_goods\u00030\u00034\u0003B181\u0002";

        for (int i = 0; i < 5; i++) {
            formatCommand.command = q[i].substring(1, 5);
            formatCommand.params = q[i].substring(5, q[i].length() - 5);
            handleCommand(formatCommand.command, formatCommand.params);
        }
    }